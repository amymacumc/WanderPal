from typing import List

def build_travel_plan_prompt(daily_plan: List[List[str]]) -> str:
    return f"""
你是一位经验丰富的旅游规划助手，目标是为游客设计一份合理、丰富的旅游路线建议。

请根据下面提供的每日景点安排，结合地理位置、交通便利性和游玩体验，为每一天设计一条最优游玩路线，输出结构化 JSON 格式的规划结果。

---
🌟 每日景点安排如下：
{{
{chr(10).join([f"  第{i+1}天: {day}" for i, day in enumerate(daily_plan)])}
}}
---

1. 🚇 指出每段景点间的 **推荐交通方式**（步行 / 骑车 / 公交 / 地铁 / 打车）；
2. ⏱️ 给出每段移动的 **预计时间和距离**；
3. 🍜 每个景点附近推荐 **特色美食** 或 **小吃街**；
4. 🏞️ 每个景点的 **description** 字段要求控制在 **100到150字**，内容简洁丰富，重点介绍景点特色；
5. 🏷️ 每个景点的*infos字段**，为 **List[str]**，内容包括（但不限于）：
   - 营业时间
   - 门票价格
   - 地址
   - 联系电话
   - 服务设施（如停车场、无障碍设施、寄存服务等）
6. 🔔 每个景点新增一个 **tips字段**（List[str]），内容包括：
   - 建议停留时间
   - 必打卡项目
   - 特别体验推荐
   - 游玩顺序建议
   - 注意事项等
7. 📍 每个景点请提供其 **经纬度坐标**（可使用大致值）；
8. 📌 **reminder字段**（List[str]），根据当前旅行计划生成3-5条小提醒，每条20-30字，内容示例包括：
   - 健康安全
   - 行李打包
   - 旅行保险
   - 现金与支付方式
   - 时间安排
   - 交通与出行
9. 🧾**请严格输出以下格式的 JSON 数据，不要输出其他任何无关数据，要求输出数据就是JSON数据，也不要添加``````字符串**

{{
 "title": "成都美食探索之旅",
 "location": "成都",
 "reminder": [
  "健康安全: 确保携带个人所需的常用药物，并准备一些基本的急救药品，如止痛药、抗过敏药物和消炎药。",
  "行李打包: 旅行时尽量带少量物品，特别是轻便服装和适应多种场合的鞋子。"
 ],
 "daily_plans": [
    {{
      "activities": [
        {{
          "image": "图片",
          "name": "武侯祠",
          "description": "武侯祠（Wuhou Shrine），位于四川省成都市武侯区武侯祠大街231号，始建于蜀汉章武元年（221年），原是纪念诸葛亮的专祠，亦称孔明庙、诸葛祠、丞相祠等，后合并为君臣合祀祠庙",
          "food_recommendations": ["武侯祠担担面", "锦里小吃街"],
          "latitude": 30.6412,
          "longitude": 104.0431,
          "infos": [
            "营业时间: 8:00-18:30",
            "门票价格: 50元",
            "地址: 成都市武侯区武侯祠大街231号",
            "联系电话: 028-85552397",
            "服务设施: 停车场、导览服务、无障碍通道"
          ],
          "tips": [
            "建议停留时间：1.5-2小时",
            "必打卡：诸葛亮雕像、三义庙",
            "特别体验：穿汉服参观拍照",
            "游玩顺序：由正门进入，顺时针游览",
            "注意事项：院内较大，请穿舒适鞋子"
          ]
        }},
        {{
          "image": "图片",
          "name": "锦里古街",
          "description": "锦里作为成都武侯祠博物馆【三国历史遗迹区、锦里民俗区、西区（三国文化体验区）】的一部分，位于四川省成都市武侯区武侯祠大街231号附1号，地处成都市中心一环路以内，武侯祠大街中段，北邻锦江，东望彩虹桥，与较为出名的武侯祠仅一墙之隔，西接一环路西一段。",
          "food_recommendations": ["三大炮", "龙抄手"],
          "latitude": 30.6404,
          "longitude": 104.0438,
          "infos": [
            "营业时间: 全天开放",
            "门票价格: 免费",
            "地址: 成都市武侯区武侯祠大街231号附1号",
            "联系电话: 028-85511888",
            "服务设施: 公共洗手间、休息区、无障碍设施"
          ],
          "tips": [
            "建议停留时间：1-1.5小时",
            "必打卡：三国文化体验馆",
            "特别体验：购买特色手工艺品",
            "游玩顺序：主街向西慢行，顺便品尝小吃",
            "注意事项：节假日人流密集，注意保管随身物品"
          ]
        }}
      ],
      "routes": [
        {{
          "way": "步行",
          "distance": "0.5km",
          "time": "约8分钟",
          "from_name": "武侯祠",
          "to_name": "锦里古街"
        }}
      ],
    }}
  ]
}}
"""